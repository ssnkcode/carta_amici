function calculateDeliveryCost(a,e=""){const o=parseInt(a);if("flexible"===MAP_CONFIG.validationMode&&e){const a=e.toLowerCase();if(!MAP_CONFIG.allowedCities.some((e=>a.includes(e))))return{costo:0,zona:"Ciudad no cubierta",tiempoEstimado:"Consultar",dentroCobertura:!1,mensaje:"Esta ciudad no est치 en nuestra zona de cobertura"}}if(isNaN(o)||o<=0)return{costo:500,zona:"Costo m칤nimo",tiempoEstimado:"30-45 min",dentroCobertura:!0,duracionCalculada:1};if(o>300)return{costo:0,zona:"Distancia muy larga",tiempoEstimado:"Consultar",dentroCobertura:!1,mensaje:"Distancia muy extensa. Por favor consultar disponibilidad."};let i="";i=o<=30?"Zona 1: Hasta 30 min":o<=60?"Zona 2: 30-60 min":o<=90?"Zona 3: 60-90 min":o<=120?"Zona 4: 90-120 min":o<=180?"Zona 5: 120-180 min":"Zona 6: Larga Distancia";let t="";return t=o<=30?"30-45 min":o<=60?"45-90 min":o<=90?"90-120 min":o<=120?"2 - 2.5 hs":"M치s de 2.5 hs",{costo:o*MAP_CONFIG.costoPorMinuto,zona:i,tiempoEstimado:t,dentroCobertura:!0,duracionCalculada:o}}async function calculateDeliveryFromAddress(a){const e=await geocodeAddress(a);if(!e){const e=extractCityFromAddress(a),o=e?e.toLowerCase():"";if(MAP_CONFIG.allowedCities.some((a=>o.includes(a)))&&"flexible"===MAP_CONFIG.validationMode){const a=getDefaultTimeForCity(e);return{...calculateDeliveryCost(a,e),distancia:getDefaultDistanceForCity(e),tiempo:a,direccionCliente:e,barrio:e,ciudad:e,esAproximado:!0,mensajeNota:"Direcci칩n exacta no encontrada. Costo basado en centro de la ciudad."}}return{error:"Direcci칩n no encontrada. Intenta: 'Calle N칰mero, Ciudad'",costo:0,dentroCobertura:!1,sugerencia:"Verifica que la ciudad est칠 bien escrita."}}const o=await calculateRoute(MAP_CONFIG.businessLocation,e);return{...calculateDeliveryCost(o.duracionMinutos,e.ciudad),distancia:o.distanciaKm,tiempo:o.duracionMinutos,direccionCliente:e.direccionCorta||e.ciudad,barrio:e.barrio,ciudad:e.ciudad,esRutaExacta:o.esExacto,esEstimado:o.esEstimado||!1,esAproximado:e.esAproximado||!1,mensajeNota:e.mensajeNota||null}}function getDefaultTimeForCity(a){const e={"villa carlos paz":40,"san antonio de arredondo":50,"mayu sumaj":55,"icho cruz":60,"cuesta blanca":65,tanti:45,cabalango:40,"estancia vieja":30,"villa santa cruz del lago":25,siquiman:15,"villa parque siquiman":15,"bialet masse":10,"santa mar칤a":15,"santa mar칤a de punilla":15,cosqu칤n:20,molinari:25,"casa grande":30,"valle hermoso":40,"la falda":45,"huerta grande":50,"villa giardino":55,"la cumbre":65,"los cocos":75,"san esteban":80,"capilla del monte":90,charbonier:100,"cruz del eje":120,"de치n funes":150},o=a.toLowerCase();for(const a in e)if(o.includes(a))return e[a];return 60}function getDefaultDistanceForCity(a){const e={"villa carlos paz":20,"san antonio de arredondo":25,"mayu sumaj":28,"icho cruz":30,"cuesta blanca":32,tanti:22,cabalango:18,"estancia vieja":15,"villa santa cruz del lago":12,siquiman:8,"villa parque siquiman":8,"bialet masse":3,"santa mar칤a":5,"santa mar칤a de punilla":5,cosqu칤n:8,molinari:12,"casa grande":15,"valle hermoso":20,"la falda":23,"huerta grande":26,"villa giardino":29,"la cumbre":35,"los cocos":40,"san esteban":45,"capilla del monte":50,charbonier:60,"cruz del eje":80,"de치n funes":110},o=a.toLowerCase();for(const a in e)if(o.includes(a))return e[a];return 20}console.log("游눯 delivery-calculator.js cargado"),window.calculateDeliveryCost=calculateDeliveryCost,window.calculateDeliveryFromAddress=calculateDeliveryFromAddress,window.getDefaultTimeForCity=getDefaultTimeForCity,window.getDefaultDistanceForCity=getDefaultDistanceForCity;